ğŸ“Œ 2. szakasz â€“ HarcService: karakter vs. szÃ¶rny

ğŸ¯ CÃ©l:
- Megtanulni, hogyan â€dolgoznak egyÃ¼ttâ€ kÃ¼lÃ¶nbÃ¶zÅ‘ objektumok
- KialakÃ­tani a harc szabÃ¡lyait: a szÃ¶rny mindig elÅ‘szÃ¶r tÃ¡mad
- A programlogikÃ¡t kÃ¼lÃ¶n szolgÃ¡ltatÃ¡sba szervezni (Services rÃ©teg)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ§© Fogalmi magyarÃ¡zat:

ğŸ”¸ Mi az a â€serviceâ€?
A szolgÃ¡ltatÃ¡si rÃ©teg (service) olyan osztÃ¡lyokat tartalmaz, amelyek elvÃ©gzik a â€mÅ±kÃ¶dÃ©stâ€, pÃ©ldÃ¡ul egy harcot lebonyolÃ­tanak, de NEM Ã­rnak ki semmit a konzolra, Ã©s nem is kÃ©rnek be adatot!

ğŸ”¸ Mi az interakciÃ³?
Amikor kÃ©t objektum â€hatÃ¡ssal van egymÃ¡sraâ€. PÃ©ldÃ¡ul:
- A SzÃ¶rny megsebzi a JÃ¡tÃ©kost
- A JÃ¡tÃ©kos visszaÃ¼t

ğŸ”¸ MiÃ©rt fontos a sorrend?
A harc sorÃ¡n elÅ‘szÃ¶r mindig a szÃ¶rny tÃ¡mad, hogy a jÃ¡tÃ©k ne legyen tÃºl kÃ¶nnyÅ±.
Ez logikailag fontos: ne keverjÃ¼k meg a sorrendet!

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ A. FÃJL LÃ‰TREHOZÃSA A SERVICES PROJEKTBEN:

1. Rider bal oldalÃ¡n keresd meg a DungeonRPG.Services projektet
2. Kattints rÃ¡ jobb gombbal â†’ Add â†’ New File
3. FÃ¡jlnÃ©v: HarcService.cs
4. Namespace: DungeonRPG.Services

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ§ª B. FELADAT: HarcService osztÃ¡ly lÃ©trehozÃ¡sa

Kezdj egy alap class sablonnal:

    namespace DungeonRPG.Services
    {
        public class HarcService
        {
            // ide fognak jÃ¶nni a metÃ³dusok
        }
    }

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âš”ï¸ C. MetÃ³dus: Tamad()

ğŸ¯ CÃ©l: Egyik karakter (pÃ©ldÃ¡ul a SzÃ¶rny) tÃ¡madja meg a mÃ¡sikat (pÃ©ldÃ¡ul a JÃ¡tÃ©kost)

â“ ElÅ‘szÃ¶r gondold vÃ©gig:
- Milyen adatra van szÃ¼ksÃ©g a tÃ¡madÃ¡shoz?
- Honnan tudjuk, mennyit kell sebezni?
- Hogyan csÃ¶kkentjÃ¼k a cÃ©lpont Ã©leterejÃ©t?

ğŸ“ TIPP: A Jatekos Ã©s Szorny osztÃ¡lyban mÃ¡r lehet egy `SebzestKap(int mennyiseg)` metÃ³dusod

â• A Tamad() metÃ³dus Ã­gy nÃ©zhet ki (de NE mÃ¡sold egybÅ‘l! Gondolkodj!):

    public void Tamad(Karakter tamado, Karakter celpont)
    {
        int sebzes = tamado.SebzesErtek;
        celpont.SebzestKap(sebzes);
    }

â— Fontos: A HarcService NEM Ã­rhat ki semmit a konzolra!

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ›¡ï¸ D. MetÃ³dus: Vedekezik()

ğŸ¯ CÃ©l: A jÃ¡tÃ©kos vagy a szÃ¶rny vÃ©dekezik, Ã­gy kevesebb sebzÃ©st kap

â“ Gondold vÃ©gig:
- Mennyi sebzÃ©st csÃ¶kkentsen a vÃ©dekezÃ©s? (Pl. 50%-kal?)
- Hol tÃ¶rtÃ©njen a csÃ¶kkentÃ©s? A HarcService-ben vagy a karakter osztÃ¡lyban?

ğŸ“ TIPP:
Hozz lÃ©tre egy Vedekezik() metÃ³dust a HarcService-ben, ami egy sebzÃ©s Ã©rtÃ©kbÅ‘l kiszÃ¡molja a â€csÃ¶kkentettâ€ sebzÃ©st, Ã©s azt alkalmazza a cÃ©lpontra.

PÃ©ldÃ¡ul:
    public void Vedekezik(Karakter vedekezo, Karakter tamado)
    {
        int eredetiSebzes = tamado.SebzesErtek;
        int csokkentettSebzes = eredetiSebzes / 2;
        vedekezo.SebzestKap(csokkentettSebzes);
    }

â• TIPP: KÃ©sÅ‘bb ezt is testreszabhatod pajzs vagy kÃ©pessÃ©gek alapjÃ¡n!

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ§  GONDOLKOZTATÃ“ KÃ‰RDÃ‰SEK:

1. Ki â€tudâ€ sebzÃ©st kapni? Hol kell ennek tÃ¶rtÃ©nnie? (Karakter/Szorny osztÃ¡lyban?)
2. Mi tÃ¶rtÃ©nik, ha a cÃ©lpont Ã©letereje 0 alÃ¡ csÃ¶kken? Kell kÃ¼lÃ¶n "halott" Ã¡llapot?
3. Miben kÃ¼lÃ¶nbÃ¶zik egy sima tÃ¡madÃ¡s egy vÃ©dekezÅ‘ tÃ¡madÃ¡stÃ³l?
4. SzÃ¼ksÃ©ges-e visszaadni valamilyen eredmÃ©nyt (pl. hogy mennyit sebzett)?

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ–¥ï¸ E. Konzolos tesztelÃ©s

1. Menj Ã¡t a DungeonRPG.ConsoleApp projektbe
2. A Program.cs fÃ¡jlban prÃ³bÃ¡ld ki:

- Hozz lÃ©tre egy Jatekos-t Ã©s egy Szorny-et
- PÃ©ldÃ¡nyosÃ­tsd a HarcService-t
- HÃ­vd meg a Tamad() vagy Vedekezik() metÃ³dust

Pl. (csak ha mÃ¡r kitalÃ¡ltad a mÅ±kÃ¶dÃ©st):

    var harc = new HarcService();
    harc.Tamad(szorny, jatekos); // szÃ¶rny tÃ¡mad
    harc.Tamad(jatekos, szorny); // jÃ¡tÃ©kos visszaÃ¼t

    Console.WriteLine($"JÃ¡tÃ©kos: {jatekos.Eletero}");
    Console.WriteLine($"SzÃ¶rny: {szorny.Eletero}");

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… EXTRA: HibakezelÃ©s

â• Gondolkodj el rajta: mi tÃ¶rtÃ©njen, ha mÃ¡r halott valaki? Meg lehet mÃ©g tÃ¡madni?
â• Milyen logikai feltÃ©teleket tudnÃ¡l bevezetni, hogy ne tÃ¡madhasson halott karakter?

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ§  Ã–sszefoglalÃ³:

- A HarcService nem tud semmit a konzolrÃ³l!
- Csak a logikÃ¡t tartalmazza (sebzÃ©s, vÃ©dekezÃ©s, stb.)
- A Jatekos Ã©s Szorny osztÃ¡lyok felelÅ‘sek az Ã¡llapotukÃ©rt
- A ConsoleApp hÃ­vja meg a logikÃ¡t Ã©s Ã­rja ki az eredmÃ©nyt
